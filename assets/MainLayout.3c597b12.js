import{c as F,h as ne,a as se}from"./dom.5ee53a1e.js";import{b as re,g as H,Q as ie,a as U}from"./QResizeObserver.a6ab75c9.js";import{r as d,c as b,o as Y,f as ue,h as w,g as V,a as ce,p as Z,l as ee,j as ve,k as de,m as M,w as te,b as fe,_ as ae,u as he,n as oe,q as S,s as j,t as h,d as p,v as P,F as N,x as A,y as W,z as E,A as Q,B as pe,C as me,D as X}from"./index.faca7b04.js";import{Q as I,a as O}from"./QBtn.4e42ec08.js";const D=XMLHttpRequest,le=D.prototype.open,ge=["top","right","bottom","left"];let R=[],L=0;function _e({p:e,pos:s,active:u,horiz:o,reverse:c,dir:r}){let l=1,f=1;return o===!0?(c===!0&&(l=-1),s==="bottom"&&(f=-1),{transform:`translate3d(${l*(e-100)}%,${u?0:f*-200}%,0)`}):(c===!0&&(f=-1),s==="right"&&(l=-1),{transform:`translate3d(${u?0:r*l*-200}%,${f*(e-100)}%,0)`})}function ye(e,s){return typeof s!="number"&&(e<25?s=Math.random()*3+3:e<65?s=Math.random()*3:e<85?s=Math.random()*2:e<99?s=.6:s=0),re(e+s,0,100)}function be(e){L++,R.push(e),!(L>1)&&(D.prototype.open=function(s,u){const o=[],c=()=>{R.forEach(l=>{(l.hijackFilter.value===null||l.hijackFilter.value(u)===!0)&&(l.start(),o.push(l.stop))})},r=()=>{o.forEach(l=>{l()})};this.addEventListener("loadstart",c,{once:!0}),this.addEventListener("loadend",r,{once:!0}),le.apply(this,arguments)})}function xe(e){R=R.filter(s=>s.start!==e),L=Math.max(0,L-1),L===0&&(D.prototype.open=le)}var $e=F({name:"QAjaxBar",props:{position:{type:String,default:"top",validator:e=>ge.includes(e)},size:{type:String,default:"2px"},color:String,skipHijack:Boolean,reverse:Boolean,hijackFilter:Function},emits:["start","stop"],setup(e,{emit:s}){const{proxy:u}=V(),o=d(0),c=d(!1),r=d(!0);let l=0,f,m;const g=b(()=>`q-loading-bar q-loading-bar--${e.position}`+(e.color!==void 0?` bg-${e.color}`:"")+(r.value===!0?"":" no-transition")),C=b(()=>e.position==="top"||e.position==="bottom"),k=b(()=>C.value===!0?"height":"width"),$=b(()=>{const a=c.value,t=_e({p:o.value,pos:e.position,active:a,horiz:C.value,reverse:u.$q.lang.rtl===!0&&["top","bottom"].includes(e.position)?e.reverse===!1:e.reverse,dir:u.$q.lang.rtl===!0?-1:1});return t[k.value]=e.size,t.opacity=a?1:0,t}),x=b(()=>c.value===!0?{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":o.value}:{"aria-hidden":"true"});function _(a=300){const t=m;return m=Math.max(0,a)||0,l++,l>1?(t===0&&a>0?i():t>0&&a<=0&&clearTimeout(f),l):(clearTimeout(f),s("start"),o.value=0,f=setTimeout(()=>{r.value=!0,a>0&&i()},c.value===!0?500:1),c.value!==!0&&(c.value=!0,r.value=!1),l)}function z(a){return l>0&&(o.value=ye(o.value,a)),l}function n(){if(l=Math.max(0,l-1),l>0)return l;clearTimeout(f),s("stop");const a=()=>{r.value=!0,o.value=100,f=setTimeout(()=>{c.value=!1},1e3)};return o.value===0?f=setTimeout(a,1):a(),l}function i(){o.value<100&&(f=setTimeout(()=>{z(),i()},m))}let v;return Y(()=>{e.skipHijack!==!0&&(v=!0,be({start:_,stop:n,hijackFilter:b(()=>e.hijackFilter||null)}))}),ue(()=>{clearTimeout(f),v===!0&&xe(_)}),Object.assign(u,{start:_,stop:n,increment:z}),()=>w("div",{class:g.value,style:$.value,...x.value})}}),we=F({name:"QPageContainer",setup(e,{slots:s}){const{proxy:{$q:u}}=V(),o=ce(ee,()=>{console.error("QPageContainer needs to be child of QLayout")});Z(ve,!0);const c=b(()=>{const r={};return o.header.space===!0&&(r.paddingTop=`${o.header.size}px`),o.right.space===!0&&(r[`padding${u.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(r.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(r[`padding${u.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),r});return()=>w("div",{class:"q-page-container",style:c.value},ne(s.default))}}),Se=F({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:s,emit:u}){const{proxy:{$q:o}}=V(),c=d(null),r=d(o.screen.height),l=d(e.container===!0?0:o.screen.width),f=d({position:0,direction:"down",inflectionPoint:0}),m=d(0),g=d(de.value===!0?0:H()),C=b(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),k=b(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),$=b(()=>g.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${g.value}px`}:null),x=b(()=>g.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${g.value}px`,width:`calc(100% + ${g.value}px)`}:null);function _(t){if(e.container===!0||document.qScrollPrevented!==!0){const y={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};f.value=y,e.onScroll!==void 0&&u("scroll",y)}}function z(t){const{height:y,width:B}=t;let q=!1;r.value!==y&&(q=!0,r.value=y,e.onScrollHeight!==void 0&&u("scroll-height",y),i()),l.value!==B&&(q=!0,l.value=B),q===!0&&e.onResize!==void 0&&u("resize",t)}function n({height:t}){m.value!==t&&(m.value=t,i())}function i(){if(e.container===!0){const t=r.value>m.value?H():0;g.value!==t&&(g.value=t)}}let v;const a={instances:{},view:b(()=>e.view),isContainer:b(()=>e.container),rootRef:c,height:r,containerHeight:m,scrollbarWidth:g,totalWidth:b(()=>l.value+g.value),rows:b(()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}}),header:M({size:0,offset:0,space:!1}),right:M({size:300,offset:0,space:!1}),footer:M({size:0,offset:0,space:!1}),left:M({size:300,offset:0,space:!1}),scroll:f,animate(){v!==void 0?clearTimeout(v):document.body.classList.add("q-body--layout-animate"),v=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),v=void 0},155)},update(t,y,B){a[t][y]=B}};if(Z(ee,a),H()>0){let B=function(){t=null,y.classList.remove("hide-scrollbar")},q=function(){if(t===null){if(y.scrollHeight>o.screen.height)return;y.classList.add("hide-scrollbar")}else clearTimeout(t);t=setTimeout(B,300)},G=function(K){t!==null&&K==="remove"&&(clearTimeout(t),B()),window[`${K}EventListener`]("resize",q)},t=null;const y=document.body;te(()=>e.container!==!0?"add":"remove",G),e.container!==!0&&G("add"),fe(()=>{G("remove")})}return()=>{const t=se(s.default,[w(ie,{onScroll:_}),w(U,{onResize:z})]),y=w("div",{class:C.value,style:k.value,ref:e.container===!0?void 0:c,tabindex:-1},t);return e.container===!0?w("div",{class:"q-layout-container overflow-hidden",ref:c},[w(U,{onResize:n}),w("div",{class:"absolute-full",style:$.value},[w("div",{class:"scroll",style:x.value},[y])])]):y}}});const ke=w("div",{class:"q-space"});var J=F({name:"QSpace",setup(){return()=>ke}});const T=e=>(pe("data-v-5d83b9ae"),e=e(),me(),e),ze=T(()=>h("h1",null,"Spark Store",-1)),Be={class:"navBtnGroup"},je=T(()=>h("span",{class:"indicator"},null,-1)),Ce={class:"label"},Te={class:"navBtnGroup"},qe=T(()=>h("span",{class:"indicator"},null,-1)),Pe={class:"label"},Le={class:"navBtn"},Me=T(()=>h("span",{class:"indicator"},null,-1)),Qe=T(()=>h("span",{class:"label"},"\u9996\u9875",-1)),Re={class:"navBtnGroup"},Fe=T(()=>h("span",{class:"indicator"},null,-1)),Ge={class:"label"},He={__name:"NavigateBar",setup(e){const s=he(),u=d({home:!s.path.match("store"),navigation:!0,hoverP:!1,hoverS:!1,primary:!(s.path.match("sort")||s.path.match("application")),secondary:s.path.match("sort")||s.path.match("application"),active:!0}),o=d([{id:1,name:"home",path:"/",label:"\u9996\u9875",active:!0,el:null},{id:2,name:"download",path:"/download",label:"\u4E0B\u8F7D",active:!1,el:null},{id:3,name:"store",path:"/store",label:"\u5546\u5E97",active:!1,el:null},{id:4,name:"forum",path:"/forum",label:"\u793E\u533A",active:!1,el:null},{id:5,name:"about",path:"/about",label:"\u5173\u4E8E",active:!1,el:null}]),c=d([{id:1,name:"recommend",path:"/store",label:"\u63A8\u8350",icon:"recommend",active:!0,el:null},{id:2,name:"rank",path:"/store/rank",label:"\u6392\u884C",icon:"format_list_numbered",active:!1,el:null},{id:3,name:"sort",path:"/store/sort/games",label:"\u5206\u7C7B",icon:"queue",active:!1,el:null}]),r=d([{id:1,name:"games",path:"/store/sort/games",label:"\u6E38\u620F",icon:"sports_esports",active:!0,el:null},{id:2,name:"network",path:"/store/sort/network",label:"\u7F51\u7EDC",icon:"travel_explore",active:!1,el:null},{id:3,name:"chat",path:"/store/sort/chat",label:"\u793E\u4EA4",icon:"question_answer",active:!1,el:null},{id:4,name:"music",path:"/store/sort/music",label:"\u97F3\u4E50",icon:"library_music",active:!1,el:null},{id:5,name:"video",path:"/store/sort/video",label:"\u89C6\u9891",icon:"smart_display",active:!1,el:null},{id:6,name:"image_graphics",path:"/store/sort/image_graphics",label:"\u56FE\u5F62",icon:"image",active:!1,el:null},{id:7,name:"office",path:"/store/sort/office",label:"\u529E\u516C",icon:"business_center",active:!1,el:null},{id:8,name:"reading",path:"/store/sort/reading",label:"\u9605\u8BFB",icon:"auto_stories",active:!1,el:null},{id:9,name:"development",path:"/store/sort/development",label:"\u5F00\u53D1",icon:"developer_board",active:!1,el:null},{id:10,name:"tools",path:"/store/sort/tools",label:"\u5DE5\u5177",icon:"handyman",active:!1,el:null},{id:11,name:"themes",path:"/store/sort/themes",label:"\u7F8E\u5316",icon:"extension",active:!1,el:null},{id:12,name:"others",path:"/store/sort/others",label:"\u5176\u4ED6",icon:"pending",active:!1,el:null}]),l=d({}),f=d({});for(const n of o.value)l.value[n.name]=n,f.value[n.path]=n;const m=d({}),g=d({});for(const n of c.value)m.value[n.name]=n,g.value[n.path]=n;const C=d({}),k=d({});for(const n of r.value)C.value[n.name]=n,k.value[n.path]=n;const $=d(o.value[0]),x=d(c.value[0]),_=d(c.value[0]);function z(n){return n.match("store")?n.match("sort")?k.value.hasOwnProperty(n)?[l.value.store,m.value.sort,k.value[n]]:[l.value.store,m.value.sort,r.value[0]]:n.match("application")?[l.value.store,m.value.sort,_.value]:g.value.hasOwnProperty(n)?[l.value.store,g.value[n],r.value[0]]:[l.value.store,c.value[0],r.value[0]]:f.value.hasOwnProperty(n)?[f.value[n],m.value.recommend,r.value[0]]:[o.value[0],m.value.recommend,r.value[0]]}return te(()=>s.path,async n=>{$.value.active=!1,x.value.active=!1,_.value.active=!1;const i=z(n);$.value=i[0],x.value=i[1],_.value=i[2],$.value.active=!0,x.value.active=!0,_.value.active=!0,u.value.home=!s.path.match("store"),u.value.primary=!x.value.name.match("sort"),u.value.secondary=x.value.name.match("sort");for(const v of o.value)v.el.$el.style=`--j-offset:${($.value.id-v.id)*78}px`;for(const v of c.value)v.el.style=`--j-offset:${(x.value.id-v.id)*52}px`;for(const v of r.value)v.el.$el.style=`--j-offset:${(_.value.id-v.id)*52}px`}),Y(()=>{$.value.active=!1,x.value.active=!1,_.value.active=!1;const n=z(s.path);$.value=n[0],x.value=n[1],_.value=n[2],$.value.active=!0,x.value.active=!0,_.value.active=!0,u.value.home=!s.path.match("store");for(const i of o.value)i.el.$el.style=`--j-offset:${($.value.id-i.id)*78}px`;for(const i of c.value)i.el.style=`--j-offset:${(x.value.id-i.id)*52}px`;for(const i of r.value)i.el.$el.style=`--j-offset:${(_.value.id-i.id)*52}px`}),(n,i)=>{const v=oe("router-link");return S(),j("span",{class:Q(u.value)},[h("header",null,[p(v,{to:"/",class:"logo"},{default:P(()=>[ze]),_:1}),p(J),h("div",Be,[(S(!0),j(N,null,A(o.value,a=>(S(),W(v,{to:a.path,class:Q(["navBtn",{active:a.active}]),ref_for:!0,ref:t=>{a.el=t},key:a.name},{default:P(()=>[je,h("span",Ce,E(a.label),1)]),_:2},1032,["to","class"]))),128))])]),h("nav",{class:"primary",onMouseenter:i[1]||(i[1]=a=>u.value.hoverP=!0),onMouseleave:i[2]||(i[2]=a=>u.value.hoverP=!1)},[p(v,{to:"/",class:"logo"}),h("div",Te,[(S(!0),j(N,null,A(c.value,a=>(S(),j("div",{key:a.name,class:Q(["navBtn",{active:a.active}]),ref_for:!0,ref:t=>{a.el=t}},[qe,p(I,{name:a.icon,size:"24px"},null,8,["name"]),h("span",Pe,E(a.label),1),p(v,{to:a.path,class:"cover"},null,8,["to"])],2))),128)),p(J),h("div",Le,[Me,p(I,{name:"home",size:"24px"}),Qe,p(v,{to:"/",class:"cover"})])]),h("span",{class:"activeCtrl",onClick:i[0]||(i[0]=a=>u.value.active=!u.value.active)})],32),h("nav",{class:"secondary",onMouseenter:i[3]||(i[3]=a=>u.value.hoverS=!0),onMouseleave:i[4]||(i[4]=a=>u.value.hoverS=!1)},[h("div",Re,[(S(!0),j(N,null,A(r.value,a=>(S(),W(v,{to:a.path,class:Q(["navBtn",{active:a.active}]),ref_for:!0,ref:t=>{a.el=t},key:a.name},{default:P(()=>[Fe,p(I,{name:a.icon,size:"24px"},null,8,["name"]),h("span",Ge,E(a.label),1)]),_:2},1032,["to","class"]))),128))])],32)],2)}}};var Ne=ae(He,[["__scopeId","data-v-5d83b9ae"]]);const Ae={key:0,class:"toolbox"},Ee={key:1,class:"dragArea"},Ie={__name:"MainLayout",setup(e){function s(){electron.min()}function u(){electron.max()}function o(){electron.close()}return(c,r)=>{const l=oe("router-view");return S(),W(Se,{view:"lhr lpR fFf"},{default:P(()=>[p($e,{ref:"bar",position:"top",color:"primary"},null,512),c.$q.platform.is.electron?(S(),j("div",Ae,[p(O,{color:"white",padding:"xs",icon:"minimize",onClick:s}),p(O,{color:"white",padding:"xs","icon-right":"settings_ethernet",onClick:u}),p(O,{color:"white",padding:"xs",icon:"close",onClick:o})])):X("",!0),c.$q.platform.is.electron?(S(),j("div",Ee)):X("",!0),p(Ne),p(we,{style:{overflow:"hidden"}},{default:P(()=>[p(l)]),_:1})]),_:1})}}};var Ke=ae(Ie,[["__scopeId","data-v-09a88580"]]);export{Ke as default};
