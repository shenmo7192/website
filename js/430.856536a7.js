"use strict";(self["webpackChunkspark_store"]=self["webpackChunkspark_store"]||[]).push([[430],{1430:(a,e,l)=>{l.r(e),l.d(e,{default:()=>T});l(7098),l(5363);var t=l(3673),s=l(8880),n=l(2323),r=l(1959),i=l(9582),o=l(52),u=l.n(o),p=l(7849);const c={class:"topBar"},d={class:"search"},v={class:"body relative-position"},_={class:"rank",key:"recommend"},m=(0,t._)("h5",null,"施工ing...",-1),h=[m],w={class:"rank",key:"rank"},g=(0,t._)("h5",null,"施工ing...",-1),k=[g],y={class:"sort appList",key:"sort"},f=["src"],q={class:"wrap"},Z={class:"text"},Q=(0,t._)("i",null,null,-1),W=(0,t._)("i",null,null,-1),b=(0,t._)("i",null,null,-1),z=(0,t._)("i",null,null,-1),P=(0,t._)("i",null,null,-1),x=(0,t._)("i",null,null,-1),C=(0,t._)("i",null,null,-1),H={setup(a){const e=(0,i.tv)(),l=(0,i.yj)();(0,p.Z)({title:"WEB商店",titleTemplate:a=>`${a} - 星火应用商店`});const o=(0,r.iH)([]),m=(0,r.iH)("https://d.store.deepinos.org.cn"),g=(0,r.iH)("https://store.deepinos.org/api/"),H=(0,r.iH)(""),$=(0,r.iH)(!0),O=(0,r.iH)({});function j(){u().post(`${g.value}type/get_type_list`).then((a=>{a.data.data.forEach((a=>{O.value[a.orig_name]=a.type_id})),D(l.params)}))}function D(a){a.hasOwnProperty("sort")&&(O.value.hasOwnProperty(a.sort)?u().post(`${g.value}application/get_application_list`,{size:1e4,type_id:O.value[a.sort]}).then((a=>{o.value=a.data.data.data,$.value=!0})):e.push("/Error404"))}function I(a,e){console.log(a,e)}return(0,t.YP)((()=>l.params),(async a=>{a.hasOwnProperty("sort")?$.value=!1:o.value=[],D(a)})),(0,t.YP)((()=>l.path),(async a=>{a.match("store")&&(a.match("sorts")||($.value=!1,setTimeout((()=>{$.value=!0}),500)))})),(0,t.bv)((()=>{l.params.hasOwnProperty("sort")&&($.value=!1),j()})),(a,e)=>{const l=(0,t.up)("q-icon"),r=(0,t.up)("q-input"),i=(0,t.up)("q-avatar"),u=(0,t.up)("q-card-section"),p=(0,t.up)("q-card"),g=(0,t.up)("q-scroll-area"),O=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(O,{class:"flex storePage"},{default:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t._)("div",d,[(0,t.Wm)(l,{name:"search",size:"25px"}),(0,t.Wm)(r,{borderless:"",modelValue:H.value,"onUpdate:modelValue":e[1]||(e[1]=a=>H.value=a)},{append:(0,t.w5)((()=>[""!==H.value?((0,t.wg)(),(0,t.j4)(l,{key:0,name:"clear",class:"cursor-pointer",onClick:e[0]||(e[0]=a=>H.value="")})):(0,t.kq)("",!0)])),_:1},8,["modelValue"])])]),(0,t.Wm)(g,{style:{width:"100%","margin-top":"52px"},"thumb-style":{"z-index":1,"border-radius":"100px"},visible:!1},{default:(0,t.w5)((()=>[(0,t._)("div",v,[(0,t.Wm)(s.W3,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:(0,t.w5)((()=>["/store"===a.$route.path&&$.value?((0,t.wg)(),(0,t.iD)("div",_,h)):(0,t.kq)("",!0),a.$route.path.match("rank")&&$.value?((0,t.wg)(),(0,t.iD)("div",w,k)):(0,t.kq)("",!0),a.$route.path.match("sort")&&$.value?((0,t.wg)(),(0,t.iD)("div",y,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.value,((e,l)=>((0,t.wg)(),(0,t.j4)(p,{id:"app_"+l,key:l,onClick:a=>I(e.application_id,l)},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{horizontal:""},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{size:"64px",rounded:""},{default:(0,t.w5)((()=>[(0,t._)("img",{src:m.value+"/store/"+a.$route.params.sort+"/"+e.package.replace("+","%2B")+"/icon.png",alt:""},null,8,f)])),_:2},1024),(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t._)("h6",null,(0,n.zw)(e.application_name_zh),1),(0,t._)("div",q,[(0,t._)("div",Z,(0,n.zw)(e.more),1)])])),_:2},1024)])),_:2},1024)])),_:2},1032,["id","onClick"])))),128)),Q,W,b,z,P,x,C])):(0,t.kq)("",!0)])),_:1})])])),_:1})])),_:1})}}};var $=l(4379),O=l(4554),j=l(4553),D=l(1939),I=l(151),B=l(5589),E=l(5096),V=l(4027),Y=l(6115),A=l(7518),S=l.n(A);const T=H;S()(H,"components",{QPage:$.Z,QIcon:O.Z,QInput:j.Z,QScrollArea:D.Z,QCard:I.Z,QCardSection:B.Z,QAvatar:E.Z,QImg:V.Z,QField:Y.Z})}}]);